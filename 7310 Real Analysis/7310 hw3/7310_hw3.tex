\documentclass[12pt,letterpaper]{article}

%--------Packages--------
\usepackage{amsmath, amsthm, amssymb}
\usepackage{xspace}
\usepackage{graphicx}
\usepackage{hhline}
\usepackage{amssymb}
\usepackage{array}
\usepackage{braket}
\usepackage{multicol}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{delarray}
\usepackage{mathtools}
\usepackage{fullpage}
\usepackage{faktor} % For quotients
\usepackage{mathrsfs}

% \usepackage{quiver}
\usepackage[linguistics]{forest}




%--------Page Setup--------

\pagestyle{empty}%

\setlength{\hoffset}{-1.54cm}
\setlength{\voffset}{-1.54cm}

\setlength{\topmargin}{0pt}
\setlength{\headsep}{0pt}
\setlength{\headheight}{0pt}

\setlength{\oddsidemargin}{0pt}

\setlength{\textwidth}{195mm}
\setlength{\textheight}{250mm}


%--------Macros--------

\newcommand{\sub}{\subseteq}
\newcommand{\lcm}{\text{lcm}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mf}[1]{\mathfrak{#1}}
\newcommand{\ms}[1]{\mathscr{#1}}
\newcommand{\sO}{\mathcal{O}}
\newcommand{\cyclic}[1]{\langle#1\rangle}
\newcommand{\units}[1]{#1 ^{\times}}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\lr}[1]{\left(#1\right)}
%----Switch phi and varphi
\let\temp\phi
\let\phi\varphi
\let\varphi\temp

\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\N}{\mathbb{N}\xspace}
\newcommand{\I}{\mathbb{I}\xspace}
\newcommand{\R}{\mathbb{R}\xspace}
\newcommand{\Z}{\mathbb{Z}\xspace}
\newcommand{\Q}{\mathbb{Q}\xspace}
\newcommand{\G}{\mathbb{G}\xspace}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\res}{res}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\dv}{div}
\DeclareMathOperator{\alb}{alb}
\DeclareMathOperator{\img}{Im}
\DeclareMathOperator{\et}{et}
\DeclareMathOperator{\ck}{coker}
\DeclareMathOperator{\Reg}{Reg}
\DeclareMathOperator{\Cor}{Cor}
\DeclareMathOperator{\Ac}{at}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\fc}{frac}
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Mod}{Mod}
\DeclareMathOperator{\Cone}{Cone}
\DeclareMathOperator{\FI}{FI}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Alb}{Alb}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\ab}{ab}
\DeclareMathOperator{\Jac}{Jac}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\fr}{frac}
\DeclareMathOperator{\Int}{Int}


%----Analysis
\newcommand{\dd}[2][]{\frac{\partial^{#1}}{\partial {#2}^{#1}}}
\newcommand{\summ}{\sum\limits}
\newcommand{\norm}[1]{\left \vert \left \vert #1 \right \vert \right \vert}
\newcommand{\thicc}{\bigg}
\newcommand{\eps}{\varepsilon}
\newcommand*\cls[1]{\overline{#1}}


%--------Theorem environments--------
\newtheorem{definition}{Definition}[]
\newtheorem{lemma}{Lemma}[]
\newtheorem{corollary}{Corollary}[]
\newtheorem{theorem}{Theorem}[]
\theoremstyle{remark}
\newtheorem*{claim}{Claim}


\newenvironment{solution}
{\begin{proof}[Solution]}
{\end{proof}}


\makeatletter
\newcommand{\thickhline}{%
    \noalign {\ifnum 0=`}\fi \hrule height 1pt
    \futurelet \reserved@a \@xhline
}
\newcolumntype{"}{@{\hskip\tabcolsep\vrule width 1pt\hskip\tabcolsep}}
\makeatother

% --------Problem environment--------
\setlength\parindent{0pt}
\setcounter{secnumdepth}{0}
\newcounter{partCounter}
\newcounter{homeworkProblemCounter}
\setcounter{homeworkProblemCounter}{1}


\newenvironment{homeworkProblem}[1][-1]{
    \ifnum#1>0
        \setcounter{homeworkProblemCounter}{#1}
    \fi
    \section{Problem \arabic{homeworkProblemCounter}}
    \setcounter{partCounter}{1}
    \stepcounter{homeworkProblemCounter}
}


%--------Metadata--------
\title{MATH 7310 Homework 3}
\author{James Harbour}

\begin{document}
\maketitle

\begin{homeworkProblem}[2]
  Let $(X,\Sigma,\mu)$ be a measure space. We say that $E\sub X$ is \emph{an atom} if
  \begin{itemize}
    \item $E\in\Sigma$,
    \item $\mu(E)>0$,
    \item $\{\mu(F) : F\sub E, F\in \Sigma\} = \{ 0, \mu(E)\}$.
  \end{itemize}
  We say the $\mu$ is \emph{diffuse} if it has no atoms.\\

  \textbf{(a)} Let $(X,d,\mu)$ be a metric measure space. Assume that $\mu$ is outer regular, and that
  \[
    \mu(E) = \sup\{\mu(K):K\sub E\text{ compact}\}\text{ for all Borel } E\sub X.
  \]
  If $\mu(\{ p\}) = 0$ for all $p\in X$, show that $\mu$ is diffuse.

  \begin{proof}
    Suppose, for the sake of contradiction, that $\mu$ is not diffuse. Then there exists an atom $E\sub X$.
  \end{proof}

  \textbf{(b)} Let $F:\R\to\R$ be an increasing, right-continuous function. Show that for $p\in\R$ we have that $\{ p\}$ is an atom of $\mu_F$ if and only if $F$ is discontinuous at $p$. Show that $\mu_F$ is diffuse if and only if $F$ is continuous.
\end{homeworkProblem}


\begin{homeworkProblem}[3]
  Let $(X,\Sigma,\mu)$ be a $\sigma$-finite measure space.

  \textbf{(i)} Suppose  that $(E_j)_{j\in J}$ is a collection of sets with $E_j\in\Sigma$ for all $j\in J$ and with $\mu(E_j)>0$ for all $j\in J$, and so that $\mu(E_j\cap E_k) = 0$ for all $j\neq k$ in $J$. Show that $J$ is countable.

  \begin{proof}
    Without loss of generality, assume that $X=\bigsqcup_{n=1}^{\infty}X_n$ where $X_n\in\Sigma$, $\mu(X_n>0)$ for all $n\in\N$, and $X_i\cap X_j = \emptyset$ for $i\neq j$. \\

    Suppose, for the sake of contradiction, that $J$ is uncountable. For $j\in J$, note that
    \[
      0<\mu(E_j) = \sum_{n=1}^{\infty}\mu(E_j\cap X_n),
    \]
    whence there exists an $n_j\in\N$ such that $\mu(E_j\cap X_n)>0$. As there can only be countably many such $n_j$'s and there are uncountably many $E_j$'s, there exists a $k\in\N$ and $J_0\sub J$ uncountable such that $\mu(E_j\cap X_{k})>0$ for all $j\in J_0$. By a pigeonhole argument, there exists a $b>0$ and an infinite $J_0'\sub J_0$ such that $\mu(E_j\cap X_k) > b$ for all $j\in J_0'$. \\

    Choose a countable sequence $(j_l)_{l=1}^{\infty}$ in $J_0$ such that $j_{l}\neq j_{s}$ for $l\neq s$. For $n\in\N$, set $F_n = E_j\cap X_k$. Note that, for $l\neq s$, we have that $\mu(F_l\cap F_s) = 0$. \\

    % Define a new sequence of pairwise disjoint sets $(L_n)_{n=1}^{\infty}$ in $\Sigma$ by $L_1=F_1$ and
    % \[
    %   L_n = \left(\bigcup_{l=1}^{n} F_l\right) \setminus \left(\bigcup_{s=1}^{n-1}F_s\right) = .
    % \]
    % If $n>1$, then
    % \[
    %   L_n =
    % \]
    % % TODO This doesn't work.

    We claim that $\mu(\sum_{l=1}^{n}F_l) = \sum_{l=1}^{n}\mu(F_l)$ for all $n\in\N$ by induction. Observe that
    \[
      \mu(F_1\cup F_2) = \mu(F_1)+\mu(F_2)-\mu(F_1\cap F_2) = \mu(F_1)+\mu(F_2).
    \]
    Now fix $n>2$ and suppose that $\mu(\sum_{l=1}^{n-1}F_l) = \sum_{l=1}^{n-1}\mu(F_l)$. Observe that
    \[
      \mu\lr{F_n \cap \bigcup_{j=1}^{n-1}F_j} = \mu\lr{\bigcup_{j=1}^{n-1}F_n\cap F_j} \leq \sum_{j=1}^{n-1}\mu(F_n\cap F_j) = 0,
    \]
    so
    \[
      \mu\lr{\bigcup_{j=1}^{n}F_j} = \mu\lr{F_n\cup\bigcup_{j=1}^{n-1}F_j} = \mu(F_n)+\sum_{j=1}^{n-1}\mu(F_j) - \mu\lr{F_n\cap\bigcup_{j=1}^{n-1}F_j} = \sum_{j=1}^{n}\mu(F_j).
    \]
    By induction, the claim holds for all $n\in\N$. \\

    Observe that, for all $n\in\N$,

    \[
      \mu\lr{\bigcup_{j=1}^{\infty}F_j} \geq \mu\lr{\bigcup_{j=1}^{n}F_j} = \sum_{j=1}^{n}\mu(F_j) \geq n\cdot b.
    \]
    Hence $\mu\lr{\bigcup_{j=1}^{\infty}F_j} = +\infty$, contradicting the fact that $\mu(X_k)<+\infty$.

  \end{proof}

  \textbf{(ii)} Let $(\Omega, \rho)$ be the metric space defined in Problem 12 of Chapter 1 of Folland. For $E\in\Sigma$, let $[E]$ be its equivalence class in $\Omega$. Show that
  \[
    \{[E]:E\sub X \text{ is an atom}\},
  \]
  is countable.

  \begin{proof}
    Let $\sim$ be the equivalence relation $E\sim F\iff \mu(E\Delta F) = 0$. Let $\mc{E} = \{ E:E\sub X \text{ is an atom}\}$. Let $\pi:\mc{E}\to\mc{E}/\sim$ be the canonical surjection. By the axiom of choice, there exists a section $s:\mc{E}/\sim\to \mc{E}$ such that $\pi\circ s = id_{\mc{E}/\sim}$. Take $E\neq F\in s(\mc{E}/\sim)$. Then, as $s$ is injective, $[E] \neq [F]$, so $\mu(E_i\Delta E_j)>0 0$. \\

    Suppose, without loss of generality, that $\mu(E_i\setminus E_j)>0$. Then, as $E_i$ is an atom, $\mu(E_i\setminus E_j) = \mu(E_i)$. Hence
    \[
      \mu(E_i) = \mu(E_i\setminus E_j) + \mu(E_i\cap E_j) = \mu(E_i) + \mu(E_i\cap E_j) \implies \mu(E_i\cap E_j) = 0
    \]
    Hence, $s(\mc{E}/\sim)$ has the properties of the collection in part (i), so $s(\mc{E}/\sim)$ is countable whence injectivity implies that $\mc{E}/\sim$ is countable.
  \end{proof}

\end{homeworkProblem}

\begin{homeworkProblem}[4]
  Let $(X,\Sigma,\mu)$ be a diffuse $\sigma$-finite measure space. For $A\in\Sigma$, show that:
  \[
    \{ \mu(B): B\sub A, B\in\Sigma\} = [0,\mu(A)].
  \]
  Suggestions: Reduce to the finite case. It might be helpful to first show that for every $E\in\Sigma$ with $\mu(E)>0$, we have $0 = \inf\{ \mu(B): B\sub E\text{ and }\mu(B)>0\}$.

  \begin{proof}\ \\
    (\emph{reduction to finite case}): Write $X = \bigcup_{i=1}^{\infty}X_i$ where $X_i\in\Sigma$ and $\mu(X_i) <+\infty$. \\

    Suppose that $E\in \Sigma$ with $\mu(E)>0$. Since $\mu$ is diffuse, there exists a $B_1\sub E$ such that $B_1\in \Sigma$ and $0<\mu(B_1)<\mu(E)$. Note that either $\mu(B_1)$ or $\mu(E\setminus B_1)$ is less than $2^{-1}\mu(E)$, so without loss of generality assume that $\mu(B_1)<2^{-1}\mu(E)$. Now, again as $\mu$ is diffuse, there exists a $B_2\sub B_1$ such that $B_2\in\Sigma$ and $0<\mu(B_2)<\mu(B_1) <\mu(E)$. Again, we may assume without loss of generality that $\mu(B_2)<2^{-1}\mu(B_1)<2^{-2}\mu(E)$. Continuing as such, we obtain a decreasing sequence of sets $E\supset B_1\supset B_2 \supset\cdots$ such that $0<\mu(B_n)<2^{-n}\mu(E)$. It follows that
    \begin{equation}\label{eq:smallsets}
      0 = \inf\{ \mu(B): B\sub E\text{ and }\mu(B)>0\}.
    \end{equation}

    % Observe that, given any $E\in\Sigma$ with $\mu(E)>0$, we can always find a $B\sub E$ with $B\in \Sigma$ such that $0<\mu(B)<\frac{\mu(E)}{2} \implies \frac{\mu(E)}{2}<\mu(E\setminus B)<\mu(E)$, i.e. we can always find sets $B,B'\in\Sigma$ with $B,B'\sub E$ such that $\mu(B)\in(0,\frac{\mu(E)}{2})$ and $\mu(B')\in (\frac{\mu(E)}{2},\mu(A))$. \\
    % With this information, we mimic the binary search algorithm from computer science.\\

    % Fix $\beta\in (0,\mu(A))$. Let $a_0 = 0$, $b_0=\mu(A)$, and $c_0 = \frac{\mu(A)}{2}$. Construct the sequences $a_n < b_n < c_n$ in $[0,\mu(A)]$ and $(B_n)$ in $\Sigma$ inductively as follows: given $a_j < c_j < b_j$ and $$, if $\beta\in(a_j,c_j]$ then set $a_{j+1} := a_j$, $b_{j+1} = c_j$, and $c_{j+1} = \frac{a_j+c_j}{2}$; otherwise set $a_{j+1} := c_j$, $b_{j+1} = b_j$, and $c_{j+1} = \frac{c_j+b_j}{2}$. Note that $(a_n)$ is nondecreasing and $(b_n)$ is nondecreasing. \\

    % Zornification time. Consider the poset $(\ms{S},\preceq)$ where $\ms{S} = \{ B\sub A: B\in\Sigma, \mu(B)\leq\beta\}$ and
    % \[
    %   B\preceq B' \iff \mu(B\setminus B') = 0
    % \]
    % i.e. $B\sub B'$ $\mu$-almost everywhere. Let $\ms{C}$ be a chain in $\ms{S}$. Let $\alpha = \sub_{B\in\ms{C}}\mu(B)$. Then we may choose $B_1\preceq B_2\preceq B_3\preceq\cdots$ in $\mc{C}$ such that $\lim_{n\to\infty}\mu(B_n) = \alpha$
    Suppose, for the sake of contradiction, that the claim is false. Then there exists an $A\in\Sigma\setminus\{\emptyset\}$ and $b\in (0,\mu(A))$ such that $\mu(B)\neq b$ for all $B\sub A$ with $B\in\Sigma$.

    We proceed via transfinite induction on following statement:
    \begin{align*}
      P(\alpha):\quad \exists\ (B_\eta)_{\eta\in\alpha}\text{ in } \Sigma \text{, pairwise disjoint subsets of } A, \text{ such that } \\ 0\not\in\mu(\{ B_\eta:\eta\in\alpha\}), \quad \bigsqcup_{\eta\in\alpha}B_\eta \in \Sigma, \text{ and } b - \mu\left(\bigsqcup_{\eta\in\alpha}B_\eta\right)>0
    \end{align*}


    First, note that we may choose $B_0$ such that $0<\mu(B_0)<b$, so $P(0)$ holds. Suppose now that $\alpha$ is an ordinal and $P(\alpha)$ is true. Then there is a collection of pairwise disjoint elements $(B_\eta)_{\eta\in\alpha}$ of $\Sigma$ which are subsets of $A$ such that $\mu(B_\eta)>0$ for all $\eta\in\alpha$, $\bigsqcup_{\eta\in\alpha}B_\eta \in \Sigma$, and $b - \mu\left(\bigsqcup_{\eta\in\alpha}B_\eta\right)>0$. By \eqref{eq:smallsets}, there exists a $B_\alpha\in \Sigma$ with $B_\alpha\sub A\setminus \bigsqcup_{\eta\in\alpha}B_\eta$ such that
    \[
      0<\mu(B_\alpha)<b - \mu\left(\bigsqcup_{\eta\in\alpha}B_\eta\right) \implies b - \mu\left(\bigsqcup_{\eta\in{\alpha+1}}B_\eta\right) > 0
    \]
    and $B_\alpha\sqcup\bigsqcup_{\eta\in\alpha}B_\eta \in \Sigma$. Hence, $P(\alpha+1)$ holds. \\

    Now, suppose that $\delta$ is a limit ordinal.
  \end{proof}
\end{homeworkProblem}








\end{document}
